---

title: 【学习随笔】01.BQ28Z610 电量计学习

date: 2021-09-10 09:37:14

tags:

  \- 学习随笔

categories: 学习随笔

---

# BQ28Z610 电量计循环学习

## 一、chem-id 匹配

### 1、chem-id 匹配方式—数据采集

数据采集是记录常温下电池“`充满—静置—放空—静置`”过程中电压、电流、温度等三个变量随时间变化的数据，数据采集步骤如下：

- 将电池连接到电路板，电量计 PACK 端连接到电源负载正极、GND 连接到电源负载负极，使用 EV2400 调试器将电量计 SCL、SDA 连接到PC；
- 开启 bqStudio 的 Log 功能；
- 对电池充电，充电截至电流要小于 0.01C；
- 静置 2 小时；
- 对电池以 0.1C 恒流放电（电流 = 0.1 * （容量 / h），如 8000mAh 的电池，放电电流为 800mA），放电至电芯的放电截至电压（3.7V锂电池截至电压一般为 3.0V）；
- 静置 5 小时。

记录时间间隔要小于 10s，bqStudio 开启 Log 后后自动以 4s 的时间间隔进行刷新数据。

### 2、chem-id 匹配方式—数据处理

数据采集完成后，需要按照指定格式将数据打包上传到 TI GPCCHEM 网络计算工具，[https://www.ti.com/powercalculator/docs/gpc/gpcUpload.tsp](https://www.ti.com/powercalculator/docs/gpc/gpcUpload.tsp) 。

- 将生成的 log 文件重命名为 `roomtemp_rel_dis_rel.csv` ；
- 删除 csv 表中 `ElapsedTime、Voltage、Current、Temperature` 之外的数据列；
- 在生成的 csv 文件目录下创建 `config.txt` ，内容为：
  
    ```c
    ProcessingType=2         // 值必须是 2
    NumCellSeries=1          // 表示有几节电池串联
    ElapsedTimeColumn=0      // csv 表中时间所在的列号
    VoltageColumn=2          // csv 表中电压所在的列号
    CurrentColumn=3          // csv 表中电流所在的列号
    TemperatureColumn=1      // csv 表中温度所在的列号
    ```
    
- 将 config.txt 和 roomtemp_rel_dis_rel.csv 压缩打包为 zip 格式；
- 通过网站 [https://www.ti.com/powercalculator/docs/gpc/gpcUpload.tsp](https://www.ti.com/powercalculator/docs/gpc/gpcUpload.tsp) 将压缩包上传到 TI，之后邮箱中会收到 ID 匹配结果

## 二、参数配置